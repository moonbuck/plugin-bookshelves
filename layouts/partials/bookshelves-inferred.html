{{/* Generates content from site data */}}
{{ range $bookshelf_key, $bookshelf := site.Data.bookshelves }}
 
<h1 class="bookshelf-key">{{ $bookshelf_key }}</h1>
<div class="bookshelf-books {{ cond (and site.Params.bookshelves_initial_view (eq "grid" site.Params.bookshelves_initial_view)) "grid" "list" }}-view">
  {{ range $bookshelf }}
  
{{ partial "book.html" . }}  
  
  {{ end }}
</div>

{{ end }}